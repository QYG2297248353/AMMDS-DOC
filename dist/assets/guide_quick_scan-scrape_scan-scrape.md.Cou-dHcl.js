import{_ as l,C as a,c as n,o as s,j as d,ad as r,G as o,a as e,w as h}from"./chunks/framework.DtW8lrcE.js";const k=JSON.parse('{"title":"扫描刮削","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/quick/scan-scrape/scan-scrape.md","filePath":"guide/quick/scan-scrape/scan-scrape.md","lastUpdated":1741603674000}'),p={name:"guide/quick/scan-scrape/scan-scrape.md"};function u(g,t,b,_,m,q){const c=a("a-tag"),i=a("a-image");return s(),n("div",null,[t[2]||(t[2]=d("h1",{id:"扫描刮削",tabindex:"-1"},[e("扫描刮削 "),d("a",{class:"header-anchor",href:"#扫描刮削","aria-label":'Permalink to "扫描刮削"'},"​")],-1)),d("p",null,[t[1]||(t[1]=e("该功能需要的插件支持：")),o(c,{color:"blue"},{default:h(()=>t[0]||(t[0]=[e("MetaTube")])),_:1})]),t[3]||(t[3]=r('<h2 id="配置扫描与刮削配置" tabindex="-1">配置扫描与刮削配置 <a class="header-anchor" href="#配置扫描与刮削配置" aria-label="Permalink to &quot;配置扫描与刮削配置&quot;">​</a></h2><p>修改任何配置请注意即时保存，避免配置丢失。</p><h3 id="配置网络代理" tabindex="-1">配置网络代理 <a class="header-anchor" href="#配置网络代理" aria-label="Permalink to &quot;配置网络代理&quot;">​</a></h3><p><code>任务管理</code> &gt;&gt;&gt;&gt; <code>任务配置</code> &gt;&gt;&gt;&gt; <code>刮削代理配置</code></p><ul><li>开启代理后全局生效</li><li>代理协议仅支持：<code>http</code> <code>https</code> <code>socks4</code> <code>socks5</code></li><li>代理主机仅支持：<code>纯IP</code> <code>纯域名</code></li><li>代理端口：根据实际情况填写</li><li>代理用户名：根据实际情况填写</li><li>代理密码：根据实际情况填写</li></ul><h3 id="刮削规则配置" tabindex="-1">刮削规则配置 <a class="header-anchor" href="#刮削规则配置" aria-label="Permalink to &quot;刮削规则配置&quot;">​</a></h3><p><code>任务管理</code> &gt;&gt;&gt;&gt; <code>任务配置</code> &gt;&gt;&gt;&gt; <code>刮削规则配置</code></p><ul><li>允许图片下载失败：如果网络状况不好，可开启此项，跳过图片下载。</li><li>整理目录格式：支持变量配置。</li><li>整理文件名格式：支持变量配置。</li><li>自动刮削：执行扫描后是需要手动执行刮削的，如果开启此项，将会自动进行刮削整理。</li></ul><h4 id="整理规范变量" tabindex="-1">整理规范变量 <a class="header-anchor" href="#整理规范变量" aria-label="Permalink to &quot;整理规范变量&quot;">​</a></h4><p>变量必须使用 <code>${}</code> 框起来，否则认为其为字符串，并作为名称的一部分。</p><table tabindex="0"><thead><tr><th>变量名称</th><th>描述</th></tr></thead><tbody><tr><td>actor</td><td>演员</td></tr><tr><td>number</td><td>番号</td></tr><tr><td>title</td><td>标题</td></tr><tr><td>date</td><td>日期 yyyy/MM/dd</td></tr><tr><td>year</td><td>年份 yyyy</td></tr><tr><td>month</td><td>月份 MM</td></tr><tr><td>day</td><td>日期 dd</td></tr><tr><td>mosaic</td><td>马赛克</td></tr><tr><td>resolution</td><td>分辨率 1080p/720p</td></tr><tr><td>director</td><td>导演</td></tr></tbody></table><p>默认整理目录规范：<code>${actor}/${number}</code></p><p>默认整理文件规范：<code>${number}</code></p><h3 id="扫描规则配置" tabindex="-1">扫描规则配置 <a class="header-anchor" href="#扫描规则配置" aria-label="Permalink to &quot;扫描规则配置&quot;">​</a></h3><p><code>任务管理</code> &gt;&gt;&gt;&gt; <code>任务配置</code> &gt;&gt;&gt;&gt; <code>扫描规则配置</code></p><ul><li>格式限制：扫描时只针对符合的视频后缀格式进行扫描</li><li>忽略目录：跳过扫描的目录(包括其子目录)</li><li>分段标记：用于电影包含分段，上下部的情况进行细分处理</li><li>字幕格式：识别的字幕格式</li><li>最小视频大小：跳过小于该大小的视频文件</li></ul><h2 id="创建扫描任务" tabindex="-1">创建扫描任务 <a class="header-anchor" href="#创建扫描任务" aria-label="Permalink to &quot;创建扫描任务&quot;">​</a></h2>',17)),o(i,{src:"/images/quick/scan-scrape-001.png"}),t[4]||(t[4]=r('<table tabindex="0"><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>任务名称</td><td>用于任务分类</td></tr><tr><td>媒体类型</td><td>辅助识别视频ID</td></tr><tr><td>整理模式</td><td>整理规范</td></tr><tr><td>整理模式-标准化整理</td><td>按照标准化整理文件 (其中涉及到创建软连接，硬链接，复制或移动文件)</td></tr><tr><td>整理模式-原地整理</td><td>将标准信息整理到视频所在目录，仅做新增文件</td></tr><tr><td>扫描目录</td><td>需要扫描的媒体目录</td></tr><tr><td>目标目录</td><td>标准化整理时的存储目录 (原地整理不填)</td></tr><tr><td>重命名规则</td><td>视频文件重命名规则</td></tr><tr><td>重命名规则-标准化文件名</td><td>按照整理配置模板进行文件重命名</td></tr><tr><td>重命名规则-原文件名</td><td>不对视频文件做任何修改</td></tr><tr><td>重复文件处理规则</td><td>遇到重复文件时处理方式 (选择保留时，不对该视频文件做任何处理)</td></tr><tr><td>目录监控</td><td>扫描执行规则 (实时监控目录，即可进行扫描)，与计划任务二选一</td></tr><tr><td>加入收藏</td><td>扫描，刮削后加入收藏库列表 (可在前台进行检索，展示)</td></tr><tr><td>计划任务</td><td>标准的 cron 表达式，规范： Java(Spring) ，与目录监控二选一。</td></tr></tbody></table><h2 id="扫描结果" tabindex="-1">扫描结果 <a class="header-anchor" href="#扫描结果" aria-label="Permalink to &quot;扫描结果&quot;">​</a></h2><p><code>任务管理</code> &gt;&gt;&gt;&gt; <code>扫描日志</code></p><p>可以查看扫描运行记录，任务的基本信息。</p><h2 id="执行刮削与整理" tabindex="-1">执行刮削与整理 <a class="header-anchor" href="#执行刮削与整理" aria-label="Permalink to &quot;执行刮削与整理&quot;">​</a></h2><p><code>任务管理</code> &gt;&gt;&gt;&gt; <code>刮削入库</code></p><p>经过扫描识别到的媒体，会在该页面展示。</p><p>点击 <code>刮削整理</code>，会立即进行刮削整理，每次执行，最大支持 <code>30</code> 个任务。</p><p>这一步，必须配置插件：<code>MetaTube</code> 否则，请进行手动绑定，手动创建媒体信息。</p><h2 id="刮削日志" tabindex="-1">刮削日志 <a class="header-anchor" href="#刮削日志" aria-label="Permalink to &quot;刮削日志&quot;">​</a></h2><p>可以查看刮削运行记录，刮削任务的基本信息。</p>',11))])}const x=l(p,[["render",u]]);export{k as __pageData,x as default};
