---
sidebar_position: 1
sidebar_label: "Telegram"
---

# Telegram

Telegram はクラウドベースのインスタントメッセージングアプリプラットフォームであり、テキスト、音声、動画、画像などの複数のメッセージ形式の送信と受信をサポートしています。このプラグインは、AMMDS に Telegram メッセージプッシュ機能を提供し、システムイベントのリアルタイム通知を実現します。

## プラグイン設定

![プラグイン設定](/img/plugin/telegram-01.png)

### 基本設定

| パラメータ | 説明 | デフォルト値 |
|------|------|--------|
| 有効状態 | Telegram プッシュプラグインの有効化を制御 | オフ |
| サービスアドレス | Telegram API サービスエンドポイント | `https://api.telegram.org` |
| Bot Token | Telegram ボットの認証トークン | - |
| Chat ID | Telegram ターゲットチャットの一意識別子 | - |
| Webhook URL | (オプション) Telegram ボットの Webhook コールバックアドレス | - |
| ネタバレモード | プッシュされた画像にマスク処理を追加するかどうかを制御 | オフ |

![プラグイン設定](/img/plugin/telegram-02.png)

### 設定の説明

- **サービスアドレス**：デフォルトで公式 API エンドポイントを指しています。プロキシまたは自前のサービスを使用する場合は、ここで変更できます
- **Bot Token**：Telegram の `@BotFather` ボットを通じて取得できます
- **Chat ID**：Telegram の `@RawDataBot` ボットを通じて取得できます
- **Webhook URL**：インターネットに公開されたデプロイ環境のユーザーのみ設定を推奨します。非公開ネットワーク環境では、メッセージの受信に失敗する可能性があります
- **ネタバレモード**：有効にすると、プッシュされた画像にマスクが追加され、プライベートコンテンツが保護されます

### 認証情報の取得

1. **Bot Token の取得**：
   - Telegram で `@BotFather` を検索して起動します
   - ガイドに従って新しいボットを作成し、Token を取得します

2. **Chat ID の取得**：
   - Telegram で `@RawDataBot` を検索して起動します
   - 任意のメッセージを送信すると、ボットから Chat ID を含む情報が返されます

## テストモジュール

### プッシュテスト

- **機能**：Telegram プッシュ設定が正しいかどうかをテストします
- **操作**：テストボタンをクリックすると、システムは設定された Chat ID にテストメッセージを送信します
- **検証**：成功すると、ターゲットチャットでテストメッセージを受信します

## 機能特性

- **複数形式のサポート**：テキスト、画像などの複数のメッセージ形式をサポート
- **リアルタイムプッシュ**：システムイベントをリアルタイムで Telegram にプッシュ
- **ネタバレ保護**：画像コンテンツにマスク保護を追加するオプション
- **柔軟な設定**：カスタムサービスアドレスと Webhook をサポート

## 注意事項

:::warning Webhook 設定
インターネットに公開されていないデプロイ環境のユーザーは、Webhook URL の設定を推奨しません。そうしないと、メッセージを受信できなくなる可能性があります。
:::

:::info サービスの安定性
Telegram サービスのネットワーク特性により、サーバーのネットワーク環境が Telegram API に安定してアクセスできるようにすることを推奨します。
:::

:::tip セキュリティアドバイス
Bot Token は機密情報です。未承認の者に漏洩しないよう、適切に保管してください。
:::
