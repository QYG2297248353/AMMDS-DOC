---
sidebar_position: 2
sidebar_label: "ThePornDB"
---

# ThePornDB

ThePornDB는 전문적인 성인 비디오 메타데이터 관리 도구로，주로 비디오 파일의 이름을 바꾸는 데 사용되어 Plex、Jellyfin 등의 미디어 서버 플러그인과 Stash 스크립트가 사용자의 수동 조작 없이 자동으로 메타데이터를 매칭할 수 있도록 합니다. 이 도구는 서버 모드와 명령줄 모드로 실행할 수 있으며，미디어 라이브러리 관리를 위한 효율적인 솔루션을 제공합니다.

공식 사이트：[https://theporndb.net/](https://theporndb.net/)

<!-- truncate -->

## 핵심 특징

- 🎯 **자동 매칭**：비디오 파일을 지능적으로 식별하고 해당 메타데이터를 자동으로 매칭합니다.
- 🔧 **다중 모드 실행**：서버 모드와 명령줄 모드를 지원합니다.
- 🌍 **다중 플랫폼 호환**：Plex、Jellyfin 등의 주요 미디어 서버와 원활하게 통합됩니다.
- 📦 **풍부한 데이터 소스**：포괄적인 비디오 메타데이터 정보를 제공합니다.
- 🔗 **Stash-Box 지원**：Stash-Box 메타데이터 관리 시스템과 호환됩니다.

# Stash-Box

Stash-Box는 Go 언어로 개발된 자체 호스팅 메타데이터 관리 시스템으로，SFW（안전한 콘텐츠）와 NSFW（성인 콘텐츠）의 관리 요구 사항을 동시에 충족하면서 다양한 콘텐츠 컬렉션을 조직화하고 제공하도록 설계되었습니다.

공식 사이트：[https://docs.stashapp.cc/](https://docs.stashapp.cc/)

## 플러그인 설정

### 전제 조건

플러그인을 설정하기 전에 다음 준비 작업을 완료해야 합니다：

#### ThePornDB

##### 계정 등록

ThePornDB 공식 등록 페이지에 접속하여 계정을 생성하십시오：

- 등록 주소：[https://theporndb.net/register](https://theporndb.net/register)

![ThePornDB 계정 등록](/img/plugin/theporndb-04.png)

##### API 키 가져오기

등록이 완료되면，계정에 로그인하고 API 키를 가져옵니다：

- API 키 가져오기 주소：[https://theporndb.net/user/api-tokens](https://theporndb.net/user/api-tokens)

#### Stash-Box

Stash-Box는 Stash 프로젝트의 메타데이터 관리 컴포넌트로，표준화된 메타데이터 저장 및 검색 서비스를 제공합니다：

##### 공식 인스턴스

Stash-Box 공식 문서에 접속하여 지원되는 공개 인스턴스를 확인하십시오：

- 인스턴스 목록：[https://docs.stashapp.cc/metadata-sources/stash-box-instances/](https://docs.stashapp.cc/metadata-sources/stash-box-instances/)

:::info 인스턴스 설명
이 페이지에서는 ThePornDB를 포함한 Stash-Box가 지원하는 공개 사이트를 확인할 수 있습니다. 공식 문서에 따라 프라이빗 Stash-Box 인스턴스를 직접 배포할 수도 있습니다.
:::

:::tip 호환성 팁
ThePornDB는 Stash-Box 클라이언트로도 사용할 수 있으며，보다 풍부한 메타데이터 획득 기능을 제공합니다.
:::

![Stash-Box 설정](/img/plugin/theporndb-05.png)

##### API 키 가져오기

선택한 Stash-Box 인스턴스에 로그인하고，사용자 설정에서 API 키를 생성하여 가져온 후 후속 클라이언트 설정에 사용합니다.

### 설정 정보

AMMDS 관리 인터페이스에서「통합 애플리케이션」→「메타데이터」→「ThePornDB」로 진입하여 설정 페이지에 들어갑니다.

![ThePornDB 플러그인 설정](/img/plugin/theporndb-01.png)

#### 기본 설정 매개변수

| 매개변수 | 설명 | 기본값 | 권장 |
|------|------|--------|------|
| 활성화 상태 | ThePornDB 플러그인 활성화 여부 제어 | 꺼짐 | 실제 요구에 따라 켜기 |
| 서비스 주소 | ThePornDB 서비스 접근 주소 | `https://theporndb.net` | 공식 주소가 안정적이고 신뢰할 수 있어 수정 필요 없음 |
| 키 | 서비스 인증에 사용되는 ThePornDB API 키 | - | 공식 사이트에서 가져온 API 키 입력 |

![ThePornDB 고급 설정](/img/plugin/theporndb-02.png)

#### 고급 설정 매개변수

| 매개변수 | 설명 | 기본값 | 권장 |
|------|------|--------|------|
| 지각 해시 계산 | 비디오 지각 해시 계산 기능 활성화 여부 | 켜짐 | 원본 비디오 파일에 의존하며，비정규 비디오 파일의 경우 꺼는 것을 권장 |
|모호한 매칭 | 파일 이름으로모호한 매칭 수행 여부 | 꺼짐 | 지각 해시 계산이 꺼져 있는 경우 켜는 것을 권장 |

:::info 설정 설명
- 지각 해시 계산은 식별 정확도를 향상시키지만 시스템 리소스 소비를 증가시킵니다.
-모호한 매칭은 파일 이름은 표준적이지만 비디오 파일이 특별한 시나리오에 적합합니다.
:::

### Stash 클라이언트

Stash-Box 클라이언트를 설정하여 보다 풍부한 메타데이터 정보를 얻을 수 있습니다：

#### 클라이언트 추가

「클라이언트 추가」버튼을 클릭하여 Stash-Box 클라이언트 설정 인터페이스에 들어갑니다：

![Stash-Box 클라이언트 설정](/img/plugin/theporndb-03.png)

#### 설정 매개변수

| 매개변수 | 설명 | 설정 권장 |
|------|------|----------|
| 활성화 | 이 Stash-Box 클라이언트 활성화 여부 제어 | 실제 요구에 따라 켜기 |
| 클라이언트 이름 | 사용자 정의 클라이언트 식별 이름 | 식별하기 쉽도록 사이트 이름 사용 권장 |
| GraphQL 주소 | Stash-Box 사이트의 API 접근 주소 | 드롭다운에서 선택하거나 전체 URL을 수동으로 입력 |
| API 키 | Stash-Box 사이트의 접근 키 | 해당 사이트에서 생성한 API 키 입력 |

#### 설정 방법

1. **프리셋 사이트 선택**：클라이언트 이름 드롭다운 목록에서 공식 프리셋 Stash-Box 사이트를 선택하면 시스템이 자동으로 GraphQL 주소를 입력합니다.
2. **수동 설정**：사용자 정의 Stash-Box 인스턴스를 추가하려면 다음 정보를 수동으로 입력할 수 있습니다：
   - GraphQL 주소：일반적으로 `https://{site}/graphql` 형식
   - API 키：해당 Stash-Box 사이트의 사용자 설정에서 생성

:::tip 설정 권장
- 보다 포괄적인 메타데이터를 얻기 위해 여러 Stash-Box 클라이언트를 추가하는 것이 좋습니다.
- 우선 순위는 메타데이터 획득 순서에 영향을 미치며，요구에 따라 조정할 수 있습니다.
:::

### 테스트 모듈

테스트 모듈은 플러그인 설정과 서비스 상태를 검증하기 위한 다음 기능을 제공합니다：

#### 테스트 기능

| 기능 | 설명 | 역할 |
|------|------|------|
| 연결 테스트 | ThePornDB 서비스 주소의 네트워크 연결성 검증 | 네트워크 연결이 정상이고 서비스 주소에 도달할 수 있는지 확인 |
| 사용자 정보 가져오기 | ThePornDB 계정 정보를 가져와 표시하려 시도 | API 키가 올바른지，서비스 인증이 성공했는지 검증 |

#### 사용 권장

- **설정 전 테스트**：설정을 저장하기 전에 연결 상태를 테스트하여 서비스 주소가 올바른지 확인하는 것이 좋습니다.
- **API 키 검증**：사용자 정보 가져오기 기능을 사용하여 API 키의 유효성을 검증합니다.
- **문제 해결**：메타데이터 획득에 실패한 경우 테스트 기능을 사용하여 문제를 빠르게 식별할 수 있습니다.

:::info 테스트 설명
- 연결 테스트는 네트워크 연결성만 검증하며 서비스 상태가 정상임을 보장하지 않습니다.
- 사용자 정보 가져오기에는 유효한 API 키와 네트워크 연결이 필요합니다.
:::

## 자주 묻는 질문

### 서비스 연결 실패

**가능한 원인**：
- 네트워크 연결 문제
- 서비스 주소 설정 오류
- API 키 무효

**해결 방법**：
- 네트워크 연결이 정상인지 확인
- 서비스 주소 형식이 올바른지 검증
- API 키가 만료되었거나 오류인지 확인
- 공식 기본 서비스 주소 사용 시도

### 메타데이터 획득 실패

**가능한 원인**：
- 비디오 파일命名 비표준
- 지각 해시 계산 실패
- 데이터 소스 사이트 일시적 사용 불가

**해결 방법**：
-모호한 매칭 기능 활성화
- 비디오 파일 형식이 지원되는지 확인
- Stash-Box 클라이언트 변경 시도
- 나중에 획득 작업 다시 시도

### Stash-Box 클라이언트 설정 오류

**가능한 원인**：
- GraphQL 주소 형식 오류
- API 키 권한不足
- 사이트 접근 제한

**해결 방법**：
- GraphQL 주소에 전체 경로가 포함되어 있는지 검증
- API 키에 충분한 권한이 있는지 확인
- 네트워크 환경이 해당 사이트에 접근할 수 있는지 확인
- 다른 Stash-Box 인스턴스 사용 시도

### 성능 문제

**가능한 원인**：
- 지각 해시 계산에 의한 시스템 리소스 소비
- 다중 클라이언트 동시 요청
- 네트워크 지연 높음

**해결 방법**：
- 성능이 제한된 장치의 경우 지각 해시 계산 비활성화 고려
- 클라이언트 우선 순위를 적절히 설정하여 동시 요청 방지
- 네트워크 지연이 낮은 Stash-Box 인스턴스 선택

:::tip 모범 사례
- 보안을 확보하기 위해 API 키를 정기적으로 업데이트하십시오.
- 리소스 낭비를 피하기 위해 필요한 Stash-Box 클라이언트만 추가하십시오.
- 보다 포괄적인 메타데이터를 얻기 위해 ThePornDB와 Stash-Box를 함께 사용하십시오.
:::
